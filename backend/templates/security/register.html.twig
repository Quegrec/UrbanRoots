{% extends 'base.html.twig' %}

{% block title %}
  Enregister un nouvel utilisateur
{% endblock %}

{% block body %}
  <style>
    .example-wrapper {
      margin: 1em auto;
      max-width: 800px;
      width: 95%;
      font: 18px / 1.5 sans-serif;
    }
    .example-wrapper code {
      background: #f5f5f5;
      padding: 2px 6px;
    }
  </style>

  <section class="section">
    <div class="container">
      <h1 class="title">Enregister un nouvel utilisateur</h1>

      <form method="post" data-turbo-frame="form-frame">
        <div class="field">
          <label class="label">Nom d'utilisateur</label>
          <div class="control">
            <input class="input" type="text" name="username"/>
          </div>
          {% for message in app.flashes('error_username') %}
            <p class="help is-danger">{{ message }}</p>
          {% endfor %}
        </div>
        
        <div class="field">
          <label class="label">Email</label>
          <div class="control">
            <input class="input" type="email" name="email"/>
          </div>
          {% for message in app.flashes('error_email') %}
            <p class="help is-danger">{{ message }}</p>
          {% endfor %}
        </div>

        <div class="field">
          <label class="label">Mot de passe</label>
          <div class="control">
            <input class="input" type="password" name="password"/>
          </div>
          {% for message in app.flashes('error_password') %}
            <p class="help is-danger">{{ message }}</p>
          {% endfor %}
        </div>

        <div class="field">
          <label class="label">Prénom</label>
          <div class="control">
            <input class="input" type="text" name="firstname"/>
          </div>
          {% for message in app.flashes('error_firstname') %}
            <p class="help is-danger">{{ message }}</p>
          {% endfor %}
        </div>

        <div class="field">
          <label class="label">Nom</label>
          <div class="control">
            <input class="input" type="text" name="lastname"/>
          </div>
          {% for message in app.flashes('error_lastname') %}
            <p class="help is-danger">{{ message }}</p>
          {% endfor %}
        </div>

        {# TODO: Ajouter si l'utilisateur est Admin ou SuperAdmin posibilité de créer admin  #}
        {# <div class="field">
          <label class="label">Rôle</label>
          <div class="control">
            <div class="select">
              <select name="role">
                {% for role in roles %}
                  <option value="{{ role.role }}">{{ role.title }}</option>
                {% endfor %}
              </select>
            </div>
          </div>
          {% for message in app.flashes('error_roles') %}
            <p class="help is-danger">{{ message }}</p>
          {% endfor %}
        </div> #}

        <div class="field">
          <div class="control">
            <button class="button is-primary" type="submit">Enregistrer</button>
          </div>
        </div>
      </form>
    </div>
  </section>

  <turbo-frame id="form-frame"></turbo-frame>
{% endblock %}